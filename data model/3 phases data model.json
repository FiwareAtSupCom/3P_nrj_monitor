{
  "$schema": "http://json-schema.org/schema#",
  "$schemaVersion": "0.0.1",
  "$id": "https://github.com/FiwareAtSupCom/3P_nrj_monitor/edit/main/data%20model/3%20phases%20data%20model.json",
  "modelTags": "greenEnergyProduction",
  "title": "ACMeasurement schema",
  "description": "The Data Model intended to measure the electrical energies consumed by an electrical system which uses an Alternating Current (AC) for a three-phase (L1, L2, L3) or single-phase (L) and neutral (N). It integrates the initial version of the data Modem [THREEPHASEMEASUREMENT], extended to also perform single-phase measurements. It includes attributes for various electrical measurements such as power, frequency, current and voltage.",
  "type": "object",
  "allOf": [
    {
      "$ref": "https://smart-data-models.github.io/data-models/common-schema.json#/definitions/GSMA-Commons"
    },
    {
      "$ref": "https://smart-data-models.github.io/data-models/common-schema.json#/definitions/Location-Commons"
    },
    {
      "properties": {
        "type": {
          "type": "string",
          "description": "Property. NGSI property type. It has to be ACMeasurement",
          "enum": ["ACMeasurement"]
        },
        "activeEnergyImport1": {
          "type": "object",
          "description": "Property. Model:'https://schema.org/StructuredValue'. Active energy imported i.e. consumed per phase. The unit code (text) is given using the [UN/CEFACT Common Codes](http://wiki.goodrelations-vocabulary.org/Documentation/UN/CEFACT_Common_Codes). Units:'kilowatt hour'",
          "properties": {
            "L1": {
              "type": "number",
              "minimum": 0,
              "description": "Property. Value for phase 1 of the active Energy Import"
            },
            "L2": {
              "type": "number",
              "minimum": 0,
              "description": "Property. Value for phase 2 of the active Energy Import"
            },
            "L3": {
              "type": "number",
              "minimum": 0,
              "description": "Property. Value for phase 3 of the active Energy Import"
            }
          }
        },
        "activePower1": {
          "type": "object",
          "description": "Property. Model:'https://schema.org/StructuredValue'. Active power consumed per phase. The unit code (text) is given using the [UN/CEFACT Common Codes](http://wiki.goodrelations-vocabulary.org/Documentation/UN/CEFACT_Common_Codes). Units:'Watt'",
          "properties": {
            "L1": {
              "type": "number",
              "minimum": 0,
              "description": "Property. Value for phase 1 of the active power"
            },
            "L2": {
              "type": "number",
              "minimum": 0,
              "description": "Property. Value for phase 2 of the active power"
            },
            "L3": {
              "type": "number",
              "minimum": 0,
              "description": "Property. Value for phase 3 of the active power"
            }
          }
        },
        "powerFactor1": {
          "type": "object",
          "description": "Property. Model:'https://schema.org/StructuredValue'. Power factor for each phase",
          "properties": {
            "L1": {
              "type": "number",
              "minimum": -1,
              "maximum": 1,
              "description": "Property. Value for phase 1 of the power factor"
            },
            "L2": {
              "type": "number",
              "minimum": -1,
              "maximum": 1,
              "description": "Property. Value for phase 2 of the power factor"
            },
            "L3": {
              "type": "number",
              "minimum": -1,
              "maximum": 1,
              "description": "Property. Value for phase 3 of the power factor"
            }
          }
        },
        "current1": {
          "type": "object",
          "description": "Property. Model:'https://schema.org/StructuredValue'. Electrical current. The unit code (text) is given using the [UN/CEFACT Common Codes](http://wiki.goodrelations-vocabulary.org/Documentation/UN/CEFACT_Common_Codes). Units:'Ampere'",
          "properties": {
            "L1": {
              "type": "number",
              "description": "Property. Value for phase 1 of the current"
            },
            "L2": {
              "type": "number",
              "description": "Property. Value for phase 2 of the current"
            },
            "L3": {
              "type": "number",
              "description": "Property. Value for phase 3 of the current"
            },
            "N": {
              "type": "number",
              "description": "Property. Value for phase neutral of the current"
            }
          }
        },
        "dateEnergyMeteringStarted1": {
          "type": "string",
          "format": "date-time",
          "description": "Property. Model:'https://schema.org/DateTime'. The starting date for metering energy"
        },
        "dateModified1": {
          "type": "string",
          "format": "date-time",
          "description": "Property. Model:'https://schema.org/DateTime'. Timestamp of the last modification of the entity"
        }
      }
    }
  ],
}
